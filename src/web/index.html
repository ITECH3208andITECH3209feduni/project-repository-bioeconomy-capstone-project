<?php session_start(); 
	if(!isset($_SESSION['username'])){
		header("location: index.html.php");
	}
?>

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel='shortcut icon' type='image/x-icon' href='./assets/logo.png' />
    <link href="https://cdn.jsdelivr.net/npm/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <title>Bioeconomy</title>
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css' />
    <link rel="stylesheet" href="css/default.css">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <header>
        <div class="container">
            <a href="./" class="logo-container">
                <img src="./assets/logo.png" width="100" alt="">
            </a>
            <nav>
                <a href="./" class="active">Home</a>
                <a href="./marketplace.html">Marketplace</a>
                <a href="./dashboard/">Dashboard</a>
                <a href="./sign-in.html">Sign in</a>
                <a href="./sign-up.html">Sign up</a>
            </nav>
            <div class="header-menu">
                <input type="checkbox">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </header>
    <main>
        <section id="hero">
            <div class="container">
                <div class="hero-sec-content">
                    <h2>Empowering users with local bioeconomy data</h2>
                    <div class="hero-area-desc">
                        <p>A study to estimate the organic waste materials available within the Gippsland region by volume and type, to consider possible future opportunities to upcycle their value utilizing bioconversion technologies with a collaborative
                            regional strategy.
                        </p>
                    </div>
                    <a href="./dashboard/#region-map-container" class="explore-data">Explore the Data</a>
                </div>
            </div>
        </section>
        <section id="sec-summmary">
            <div class="container">
                <h2>Summary</h2>
                <div class="content">
                    <p>The Gippsland region organic waste mapping study (“the study”) was commissioned by Food & Fibre Gippsland (“F&FG”) on 22 July 2022 to establish the variety and scale of organic waste materials within this region as a baseline for developing
                        upcycling opportunities on an industrial scale.</p>
                    <p>The wider objective of the study is to explore the application of proven technology solutions in future projects that will have the ability to upcycle these materials and contribute to the region’s circular economy.</p>
                    <p>This study was managed by Food & Fibre Gippsland and contracted to Food Security Solutions Ltd (FSS) to conduct the research between August and October 2022.</p>
                    <p>The study has contacted 68 different stakeholders from a wide range of Gippsland industries and local municipalities of which 93% responded. The information collected has created the base of the study, most of which was anecdotal information
                        reported from senior members of the relevant stakeholders’ organisations.</p>
                </div>
            </div>
        </section>
        <section id="methods">
            <div class="container">
                <h3>Methods</h3>
                <div class="center">
                    <p class="sub-title">The study was conducted using a survey approach. Meetings between FSS and participants were conducted virtually. The study was conducted during August and October 2022 collecting a wide range of available data from multiple sources:</p>
                </div>
                <div class="content">
                    <ul>
                        <li>
                            <p>District Councils’ database of materials recorded being presented to regional Landfills and any projects highlighted within the regional sustainability plans.</p>
                        </li>
                        <li>
                            <p>A total of 68 respondents were contacted and participated with in depth interviews, from all sectors of the business community and regional councils throughout the Gippsland region.</p>
                        </li>
                        <li>
                            <p>F&FG and the regional sustainability boards circulated a request for engagement from regional members through their monthly newsletters.</p>
                        </li>
                        <li>
                            <p>All data collected and information gathered has been included into a detailed worksheet to create the basis of this study.</p>
                        </li>
                        <li>
                            <p>The scope of potential stakeholders has been sense checked with District Council records of active businesses within Gippsland.</p>
                        </li>
                        <li>
                            <p>The key operators and a group of senior stakeholders from each sector have been included as respondents within this study, where possible.</p>
                        </li>
                        <li>
                            <p>Participating industries have been classified by utilising ANZ standards industry codes.</p>
                        </li>
                    </ul>
                </div>
            </div>
        </section>
        </section>
        <section id="sec-map">
            <div class="container">
                <h1>Waste map data</h1>
                <p class="detailedText">The map data is currently hidden. Click the button below to view the detailed waste data on the dashboard.</p>
                <!-- Existing map SVG, you can choose to hide this or leave it as is -->
                <svg id="map" style="display: none;"></svg> <!-- Example of hiding the SVG -->
                <div class="tooltip"></div>
                <!-- Button that redirects to the dashboard page -->
                <button onclick="window.location.href='./dashboard/';" class="dashboard-btn">Go to Dashboard</button>

            </div>
        </section>
        
        <section id="sec-key-facts">
            <div class="container">
                <h1>Key Facts</h1>
                <div class="cards-container grid">
                    <div class="card">
                        <img src="./assets/slider-images/board.jpg" alt="">
                        <div class="content">
                            <h3>Board</h3>
                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sint expedita accusantium magnam ratione debitis recusandae repellat animi at distinctio id illo velit, sapiente consequuntur est voluptates voluptatum cumque quos doloremque?</p>
                        </div>
                    </div>
                    <div class="card">
                        <img src="./assets/slider-images/ecology.jpg" alt="">
                        <div class="content">
                            <h3>Ecology</h3>
                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Porro itaque cum reprehenderit voluptates, ea tenetur ipsum asperiores vel nemo quos tempore? Itaque eaque nemo eveniet provident explicabo quibusdam labore dignissimos.</p>
                        </div>
                    </div>
                    <div class="card">
                        <img src="./assets/slider-images/sustainability.jpg" alt="">
                        <div class="content">
                            <h3>Sustainability</h3>
                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Inventore impedit magni assumenda adipisci fugiat est, voluptate ut magnam, obcaecati et maiores laborum eaque, vitae aperiam maxime. Quam tempore illo minus.</p>
                        </div>
                    </div>
                    <div class="card">
                        <img src="./assets/slider-images/solar.jpg" alt="">
                        <div class="content">
                            <h3>Solar energy</h3>
                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ipsa voluptate incidunt natus, architecto consectetur eius, doloremque cum, accusamus impedit pariatur nemo? In amet soluta tempore nesciunt cum fugiat, earum voluptatem.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
      

   
    <footer>
        <div class="container">
            <p>Copyright @ 2023</p>
        </div>
    </footer>
    <div class="force-login-popup">
        <div class="popup-inner">
            <div class="container">
                <div class="popup-close">
                    <svg viewBox="0 0 24 24" width="25" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path fill-rule="evenodd" clip-rule="evenodd" d="M5.29289 5.29289C5.68342 4.90237 6.31658 4.90237 6.70711 5.29289L12 10.5858L17.2929 5.29289C17.6834 4.90237 18.3166 4.90237 18.7071 5.29289C19.0976 5.68342 19.0976 6.31658 18.7071 6.70711L13.4142 12L18.7071 17.2929C19.0976 17.6834 19.0976 18.3166 18.7071 18.7071C18.3166 19.0976 17.6834 19.0976 17.2929 18.7071L12 13.4142L6.70711 18.7071C6.31658 19.0976 5.68342 19.0976 5.29289 18.7071C4.90237 18.3166 4.90237 17.6834 5.29289 17.2929L10.5858 12L5.29289 6.70711C4.90237 6.31658 4.90237 5.68342 5.29289 5.29289Z" fill="#0F1729"></path> </g></svg>
                </div>
                <div class="popup-body">
                    <div class="center">
                        <img src="./assets/logo.png" width="80px" alt="">
                    </div>
                    <h4>Thanks for your time</h4>
                    <p>Create an account or log in to continue.</p>
                    <div class="inputs-and-button">
                        <div class="input-container">
                            <input type="text" name="name" placeholder="Name">
                        </div>
                        <div class="input-container">
                            <input type="text" name="username" placeholder="Username">
                        </div>
                        <div class="input-container">
                            <input type="email" name="email" placeholder="Email">
                        </div>
                        <div class="input-container">
                            <input type="password" name="pass" placeholder="Password">
                        </div>
                        <div class="input-container">
                            <button class="submit-btn">Continue</button>
                        </div>
                    </div>
                    <div class="or-container">
                        <hr>
                        <span>or</span>
                    </div>
                    <span class="or-login">Already have an account? <a href="#" class="login-btn">Log in</a></span>
                </div>
            </div>
        </div>
    </div>
    <script>
        const wasteMappingDataUrl = './js/data/waste-mapping-data.json';
        const regionURL = './js/data/regions.json';
        const showMapPopup = false;
    </script>
    <script src="js/chart-utils.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-datalabels/2.0.0/chartjs-plugin-datalabels.min.js"></script>
    <script src="https://unpkg.com/chart.js-plugin-labels-dv/dist/chartjs-plugin-labels.min.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://unpkg.com/topojson-client@3"></script>
    <script src="./js/chart-data.js"></script>
    <script src="./js/default.js"></script>
    <script src="./js/map.chart.js"></script>
    <script src="./js/chatjs.scripts.js"></script>
    <script>
        const dataSec = document.querySelector('#sec-2')
        const exploreData = document.querySelector('.explore-data');


        // this function prevents the main function from loading instantly because the main function needs the data to show in charts
        let countChecking = 0;

        function dataChecker() {
            countChecking++;
            if (wasteData.length > 0) {
                main();
                runMapChart()
            } else {
                setTimeout(() => {
                    console.log("checking: " + countChecking); // show how many times checking for data
                    dataChecker();
                }, 50); // wait for 50ms for each checking
            }
        }
        dataChecker();

        // force login popup
        const forceLoginPopup = document.querySelector('.force-login-popup');
        const popupInner = forceLoginPopup.querySelector('.popup-inner');
        const clickToRevealBtns = document.querySelectorAll('.click-to-reveal');
        let popupClosed = false;

        window.addEventListener('scroll', (e) => {
            if (window.innerHeight + window.pageYOffset >= (document.body.offsetHeight - 200) && user === null && popupClosed === false) {
                forceLoginPopup.classList.add("active");
                setTimeout(() => {
                    popupInner.classList.add('anim');
                }, 200);
                document.body.classList.add('stop-scrolling');
            } else if (window.innerHeight + window.pageYOffset <= (document.body.offsetHeight - 400)) {
                popupClosed = false
            }
        })

        forceLoginPopup.querySelector('.popup-close').addEventListener("click", () => {
                popupInner.classList.remove('anim');
                setTimeout(() => {
                    forceLoginPopup.classList.remove('active');
                    document.body.classList.remove('stop-scrolling');
                    popupClosed = true;
                }, 300);
            })
            // scroll to charts
        const gotoCharts = (e) => {
            e.preventDefault();

            // get charts data y position
            const dataChartsDetails = ctx.getBoundingClientRect();
            window.scrollTo({
                top: (dataChartsDetails.top - 50),
                left: 0,
                behavior: "smooth"
            });
        }
        exploreData.addEventListener('click', gotoCharts);


        clickToRevealBtns.forEach((btn) => btn.addEventListener('click', () => {
            forceLoginPopup.classList.add("active");
            setTimeout(() => {
                popupInner.classList.add('anim');
            }, 200);
            document.body.classList.add('stop-scrolling');
        }))


        // handle login sigup
        const inputsContainer = document.querySelector('.inputs-and-button');
        const allInputs = inputsContainer.querySelectorAll("input");
        const loginBtn = document.querySelector('.login-btn');
        const submitBtn = inputsContainer.querySelector('.submit-btn');



        loginBtn.addEventListener('click', (e) => {
            e.preventDefault();
            console.log("login clicked");
        })


        submitBtn.addEventListener('click', () => {
            const inputObj = {};
            let isAnyInpEmpty = false;
            allInputs.forEach((inp) => {
                if (inp.value === '') {
                    isAnyInpEmpty = true;
                    inp.style.borderColor = 'red';
                } else {
                    inp.style = '';
                    inputObj[inp.name] = inp.value;
                }
            });

            if (!isAnyInpEmpty) {
                // console.log(inputObj)
                // const xht = new XMLHttpRequest();
                // xht.open("POST", 'http://localhost:4000/api/signup', true);
                // xht.onload = function() {
                //     console.log(this.responseText)
                // };

                // xht.setRequestHeader('Content-Type', 'application/json');
                // xht.send(JSON.stringify(inputObj))
            } else {
                alert('Please fill the form...')
            }
        })
    </script>
    <script>
        function loadDynamicContent(sectionId, url) {
            const xhr = new XMLHttpRequest();
            xhr.open('GET', url);
            xhr.onload = function() {
                if (xhr.status === 200) {
                    document.getElementById(sectionId).innerHTML = xhr.responseText;
                } else {
                    console.error('Failed to retrieve content');
                }
            };
            xhr.send();
        }
        
        // Call this function with the correct section ID and URL when needed
        // Example: loadDynamicContent('sec-key-facts', 'path/to/your/content.html');
        </script>
        <script src="https://cdn.jsdelivr.net/npm/aos@2.3.1/dist/aos.js"></script>
        <script>
        document.addEventListener('DOMContentLoaded', function() {
            AOS.init({
                duration: 1200,  // values from 0 to 3000, with step 50ms
                once: true,      // whether animation should happen only once - while scrolling down
            });
        });
        </script>
        
        
</body>

</html>
